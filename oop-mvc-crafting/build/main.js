!function(t){function e(e){for(var r,c,a=e[0],u=e[1],l=e[2],f=0,p=[];f<a.length;f++)c=a[f],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&p.push(o[c][0]),o[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);for(s&&s(e);p.length;)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(r=!1)}r&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},o={0:0},i=[];function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var a=window.webpackJsonp=window.webpackJsonp||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var s=u;i.push([121,1]),n()}({121:function(t,e,n){n(122),t.exports=n(316)},308:function(t,e,n){},309:function(t,e,n){},310:function(t,e,n){},311:function(t,e,n){},312:function(t,e,n){},313:function(t,e,n){},314:function(t,e,n){},315:function(t,e,n){},316:function(t,e,n){"use strict";n.r(e);n(308),n(309);function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var i="INGREDIENT_LIST__ADD",c="INGREDIENT_LIST__REMOVE",a="INGREDIENT_LIST__PLUS",u="INGREDIENT_LIST__MINUS",l="INGREDIENT_LIST__UPDATE",s={ingredientsList:{wood:5,bandage:8,fire:3,"Волшебно невероятная хрень написанная на русском языке":17,metal:7,"стекло":8,"вода":15,C2H5OH:7},recipeList:{"BuraTina 2.0":{wood:3,metal:2,"стекло":1,fire:3},"BuraTina Т-600":{wood:1,metal:3,"стекло":1,fire:3,"Волшебно невероятная хрень написанная на русском языке":1},"BuraTina Т-1000":{wood:2,metal:1,"стекло":4,"Волшебно невероятная хрень написанная на русском языке":2},"CherepAHA TartiLA Т-Х":{"стекло":5,"вода":4,C2H5OH:6},"FucKel (О Бык Новенный)":{C2H5OH:5,wood:3,bandage:3,fire:10}},formNewRecipe:{C2H5OH:5,wood:3,bandage:3,fire:10},craftingTable:{recipeName:"FucKel (О Бык Новенный)",recipeList:{C2H5OH:{exists:5,required:5},wood:{exists:3,required:3},bandage:{exists:3,required:3},fire:{exists:10,required:10}},countCrafting:0},readyList:{"BuraTina 2.0":{count:2,recipeList:{wood:3,metal:2,"стекло":1,fire:3}},"BuraTina Т-600":{count:5,recipeList:{wood:1,metal:3,"стекло":1,fire:3,"Волшебно невероятная хрень написанная на русском языке":1}},"CherepAHA TartiLA Т-Х":{count:1,recipeList:{"стекло":5,"вода":4,C2H5OH:6}},"FucKel (О Бык Новенный)":{count:1,recipeList:{C2H5OH:5,wood:3,bandage:3,fire:10}}},view:{RECIPE_LIST:{show:"show",list:{}}}},f="SAVE_STATE_TO_LOCAL_STORAGE",p="GET_STATE";function y(t){switch(t){case f:return localStorage.setItem("craftingStore",JSON.stringify(et.getState())),!0;case p:var e=localStorage.getItem("craftingStore");return e?JSON.parse(e):s;default:return s}}function b(t,e){return{type:l,payload:{ingredientsList:t,action:e}}}var d="REMOVE_ITEMS",v="ADD_ITEMS";function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){E(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m="RECIPE_LIST__ADD",w="RECIPE_LIST__REMOVE",S="RECIPE_LIST__PLUS",L="RECIPE_LIST__MINUS";function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){j(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var P="FORM_NEW_RECIPE__INGREDIENT_ADD",T="FORM_NEW_RECIPE__INGREDIENT_PLUS",A="FORM_NEW_RECIPE__INGREDIENT_MINUS",N="FORM_NEW_RECIPE__INGREDIENT_REMOVE",C="FORM_NEW_RECIPE__CLEAR_FORM";function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){M(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x="CRAFTING_TABLE__ADD_RECIPE",F="CRAFTING_TABLE__INIT_RECIPE_LIST",G="CRAFTING_TABLE__ADD_INGREDIENT",H="CRAFTING_TABLE__CLEAR_FORM";function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(Object(n),!0).forEach((function(e){W(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function W(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var B="READY_LIST__ADD",V="READY_LIST__REMOVE";function Y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(n),!0).forEach((function(e){$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var J="RECIPE_LIST",z="SHOW_ON",Q="SHOW_OFF";function X(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?X(Object(n),!0).forEach((function(e){tt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var et=function(t,e){var n=t(e,{type:"__INIT__"}),r=[];return{dispatch:function(e){n=t(n,e),r.forEach((function(t){return t()}))},subscribe:function(t){r.push(t)},getState:function(){return n}}}(function(t){return function(e,n){var o={};return Object.entries(t).forEach((function(t){var i=r(t,2),c=i[0],a=i[1];o[c]=a(e[c],n)})),o}}({ingredientsList:function(){var t,e,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y(p).ingredientsList,s=arguments.length>1?arguments[1]:void 0,f=s.type,b=s.payload;switch(f){case a:return t=b.key,e=o[t]+1,O(O({},o),{},E({},t,e));case u:return t=b.key,e=o[t]>0?o[t]-1:0,O(O({},o),{},E({},t,e));case c:return t=b.key,delete o[t],o;case i:return t=b.key,O(O({},o),{},E({},t,1));case l:n=b.action,r=b.ingredientsList;var _={};return Object.entries(r).reduce((function(t,e){var r=h(e,2),i=r[0],c=r[1];return n===v?t[i]=o[i]+c:n===d&&(t[i]=o[i]-c),t}),_),O(O({},o),_);default:return o}},recipeList:function(){var t,e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y(p).recipeList,o=arguments.length>1?arguments[1]:void 0,i=o.type,c=o.payload;switch(i){case w:return delete r[t=c.key],R({},r);case m:return t=c.key,e=c.value,R(R({},r),{},j({},t,e));case S:return t=c.key,e=c.value,(n=r[t])[e]+=1,R(R({},r),{},j({},t,n));case L:return t=c.key,e=c.value,(n=r[t])[e]=n[e]>1?n[e]-1:1,R(R({},r),{},j({},t,n));default:return r}},formNewRecipe:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y(p).formNewRecipe,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case P:var o=r.key;return k(k({},t),{},M({},o,1));case T:var i=t[o=r.key]+1;return k(k({},t),{},M({},o,i));case A:return i=t[o=r.key]>0?t[o]-1:0,k(k({},t),{},M({},o,i));case N:return delete t[o=r.key],t;case C:return{};default:return t}},craftingTable:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y(p).craftingTable,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case x:var o=r.key;return q(q({},t),{},W({},"recipeName",o));case F:var i=r.recipeList;return q(q({},t),{},{recipeList:i});case G:o=r.key;var c=r.ingredientsList,a=c[o],u=t.recipeList[o].exists;return u>=a?t.recipeList[o].exists=a:u<t.recipeList[o].required&&(t.recipeList[o].exists+=1),q({},t);case H:return{recipeName:"",recipeList:{},countCrafting:0};default:return t}},readyList:function(){var t,e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y(p).readyList,o=arguments.length>1?arguments[1]:void 0,i=o.type,c=o.payload;switch(i){case B:return e=c.recipeName,n=c.recipeList,t=r[e]?r[e].count+1:1,K(K({},r),{},$({},e,{count:t,recipeList:n}));case V:if((t=r[e=c.recipeName]?r[e].count-1:1)<=0)return delete r[e],K({},r);var a=r[e];return a.count=t,K(K({},r),{},$({},e,a));default:return r}},view:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y(p).recipeList,n=arguments.length>1?arguments[1]:void 0,r=n.type,o=n.payload;switch(r){case z:return t=Z({},e),o.field?t[o.key].list[o.field]="show":t[o.key].show="show",t;case Q:return t=Z({},e),o.field?t[o.key].list[o.field]="":t[o.key].show="",t;default:return e}}}),y(p));n(310);function nt(t){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ot(t,e){return!e||"object"!==nt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function it(t){var e="function"==typeof Map?new Map:void 0;return(it=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return ct(t,arguments,lt(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ut(r,t)})(t)}function ct(t,e,n){return(ct=at()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&ut(o,n.prototype),o}).apply(null,arguments)}function at(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function ut(t,e){return(ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lt(t){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var st=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ut(t,e)}(s,t);var e,n,r,o,i,l=(e=s,n=at(),function(){var t,r=lt(e);if(n){var o=lt(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return ot(this,t)});function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),l.call(this)}return r=s,(o=[{key:"connectedCallback",value:function(){var t=this,e=this,n=et.getState().ingredientsList,r=function(e){var n=[];for(var r in e)n.push('\n            <li data-key="'.concat(r,'" draggable="true" class="list-group-item">\n              <span class="content-text">').concat(r," : ").concat(e[r],'</span>\n              <span class="btn-group">\n                <button\n                  class="btn btn-lg material-icons"\n                  data-btn-value="INGREDIENT_LIST__PLUS"\n                  data-btn-key="').concat(r,'"\n                >\n                  add_box\n                </button>\n                <button\n                  class="btn btn-lg material-icons"\n                  data-btn-value="INGREDIENT_LIST__MINUS"\n                  data-btn-key="').concat(r,'"\n                >\n                  indeterminate_check_box\n                </button>\n                <button\n                  class="btn btn-lg material-icons"\n                  data-btn-value="INGREDIENT_LIST__REMOVE"\n                  data-btn-key="').concat(r,'"\n                >\n                  delete_sweep\n                </button>\n              </span>\n            </li>\n          '));t.innerHTML="\n          ".concat(0!==Object.keys(e).length?'\n                <h3\n                  data-btn-value="COLLAPSE_ACTION"\n                  data-btn-key="COLLAPSE_BLOCK"\n                >\n                  Ingredients list\n                </h3>\n              ':"",'\n          <div class="collapse show" data-collapse="COLLAPSE_BLOCK">\n            <ul class="list-group overflow-auto">\n              ').concat(n.join(""),"\n            </ul>\n          </div>\n        ")};r(n),et.subscribe((function(){var t=et.getState();r(t.ingredientsList)})),this.addEventListener("click",(function(t){var n=t.target,r=n.getAttribute("data-btn-key");switch(n.getAttribute("data-btn-value")){case"COLLAPSE_ACTION":var o=e.querySelector('[data-collapse="'.concat(r,'"]'));return void(o.classList.contains("show")?o.classList.remove("show"):o.classList.add("show"));case"INGREDIENT_LIST__PLUS":return void et.dispatch(function(t){return{type:a,payload:{key:t}}}(r));case"INGREDIENT_LIST__MINUS":return void et.dispatch(function(t){return{type:u,payload:{key:t}}}(r));case"INGREDIENT_LIST__REMOVE":return void(confirm('Вы уверены, удалить "'.concat(r,'" ?'))&&et.dispatch(function(t){return{type:c,payload:{key:t}}}(r)));default:return}})),this.addEventListener("dragstart",(function(t){var e=t.target.getAttribute("data-key"),n=t.dataTransfer;n.setData("key",e),n.setData("value","INGREDIENT");var r=document.querySelector("crafting-table [data-place-key=".concat(e,"]"))||null;r&&r.classList.add("backlight")})),this.addEventListener("dragend",(function(){document.querySelector("crafting-table .backlight").classList.remove("backlight")}))}}])&&rt(r.prototype,o),i&&rt(r,i),s}(it(HTMLElement));n(311);function ft(t){return{type:i,payload:{key:t}}}function pt(t){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bt(t,e){return!e||"object"!==pt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dt(t){var e="function"==typeof Map?new Map:void 0;return(dt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return vt(t,arguments,gt(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_t(r,t)})(t)}function vt(t,e,n){return(vt=ht()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&_t(o,n.prototype),o}).apply(null,arguments)}function ht(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _t(t,e){return(_t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_t(t,e)}(a,t);var e,n,r,o,i,c=(e=a,n=ht(),function(){var t,r=gt(e);if(n){var o=gt(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return bt(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),c.call(this)}return r=a,(o=[{key:"connectedCallback",value:function(){var t=this,e=function(){t.innerHTML='\n          <h3 data-action="COLLAPSE_ACTION">\n            Adding a new ingredient\n          </h3>\n\n          <div class="collapse show">\n            <form>\n              <div class="input-group mb-3">\n                <input\n                  name="ingredient_name"\n                  type="text"\n                  class="form-control ingredient-name"\n                  placeholder="Add new ingredient"\n                />\n                <div class="input-group-append">\n                  <button\n                    class="btn btn-outline-secondary"\n                    type="button"\n                    id="btn-add-new-ingredient"\n                    data-action="INGREDIENT_LIST__ADD"\n                  >\n                    Add\n                  </button>\n                </div>\n              </div>\n            </form>\n          </div>\n        '};function n(t){t.preventDefault();var e=t.target.getAttribute("data-action"),n=document.querySelector("form-new-ingredient .ingredient-name").value;switch(e){case"INGREDIENT_LIST__ADD":return n?void(et.getState().ingredientsList.hasOwnProperty([n])?confirm('Ингридиент "'.concat(n,'" уже существует, перезаписать ?'))&&et.dispatch(ft(n)):et.dispatch(ft(n))):alert("Нужно добавить название ингредиента");case"COLLAPSE_ACTION":var r=document.querySelector("form-new-ingredient .collapse");return void(r.classList.contains("show")?r.classList.remove("show"):r.classList.add("show"));default:return}}e(),et.subscribe((function(){e()})),this.addEventListener("click",n),this.addEventListener("submit",n)}}])&&yt(r.prototype,o),i&&yt(r,i),a}(dt(HTMLElement));n(312);function Et(t,e){return{type:m,payload:{key:t,value:e}}}function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return St(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return St(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function It(t,e){return!e||"object"!==mt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Rt(t){var e="function"==typeof Map?new Map:void 0;return(Rt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return jt(t,arguments,At(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Tt(r,t)})(t)}function jt(t,e,n){return(jt=Pt()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Tt(o,n.prototype),o}).apply(null,arguments)}function Pt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Tt(t,e){return(Tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function At(t){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tt(t,e)}(a,t);var e,n,r,o,i,c=(e=a,n=Pt(),function(){var t,r=At(e);if(n){var o=At(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return It(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),c.call(this)}return r=a,(o=[{key:"connectedCallback",value:function(){var t=this,e=et.getState(),n=function(e,n){var r=[],o=n.show,i=n.list,c=function(t){var n=i[t]?"show":"";r.push('\n            <div class="card">\n              <div\n                class="card-header"\n                draggable="true"\n                data-btn-value="COLLAPSE_ACTION"\n                data-btn-key="'.concat(t,'"\n                data-show="').concat(n,'"\n              >\n                <span class="content-text">').concat(t,'</span>\n                <span class="btn-group">\n                  <button\n                    class="btn btn-lg material-icons"\n                    data-btn-value="RECIPE_LIST__REMOVE"\n                    data-btn-key="').concat(t,'"\n                  >\n                    delete_sweep\n                  </button>\n                </span>\n              </div>\n\n              <div\n                class="collapse ').concat(n,' card-body"\n                aria-labelledby="headingOne"\n                data-collapse="').concat(t,'"\n              >\n                <ul>\n                  ').concat(Object.entries(e[t]).map((function(e){var n=wt(e,2),r=n[0],o=n[1];return'\n                        <li>\n                          <span class="content-text">\n                            '.concat(r," : ").concat(o,'\n                          </span>\n                          <span class="btn-group">\n                            <button\n                              class="btn btn-lg material-icons"\n                              data-btn-value="RECIPE_LIST__PLUS"\n                              data-btn-key="').concat(t,'"\n                              data-btn-item="').concat(r,'"\n                            >\n                              add_box\n                            </button>\n\n                            <button\n                              class="btn btn-lg material-icons"\n                              data-btn-value="RECIPE_LIST__MINUS"\n                              data-btn-key="').concat(t,'"\n                              data-btn-item="').concat(r,'"\n                            >\n                              indeterminate_check_box\n                            </button>\n                          </span>\n                        </li>\n                      ')})).join(""),"\n                </ul>\n              </div>\n            </div>\n          "))};for(var a in e)c(a);t.innerHTML="\n          ".concat(0!==Object.keys(e).length?'\n                <h3\n                  data-btn-value="COLLAPSE_ACTION"\n                  data-show="'.concat(o,'"\n                >\n                  Recipe List\n                </h3>\n              '):"",'\n\n          <div class="collapse ').concat(o,'">\n            ').concat(r.join(""),"\n          </div>\n        ")};n(e.recipeList,e.view.RECIPE_LIST),et.subscribe((function(){var t=et.getState();n(t.recipeList,t.view.RECIPE_LIST)})),this.addEventListener("click",(function(t){var e,n=t.target,r=n.getAttribute("data-btn-key"),o=n.getAttribute("data-btn-value"),i=n.getAttribute("data-btn-item"),c=n.getAttribute("data-show");switch(o){case"COLLAPSE_ACTION":return e="show"===c?Q:z,void et.dispatch(function(t,e,n){return{type:e,payload:{key:t,field:n}}}(J,e,r));case"RECIPE_LIST__REMOVE":return void(confirm('Вы уверены, удалить "'.concat(r,'" ?'))&&et.dispatch(function(t){return{type:w,payload:{key:t}}}(r)));case"RECIPE_LIST__PLUS":return void et.dispatch(function(t,e){return{type:S,payload:{key:t,value:e}}}(r,i));case"RECIPE_LIST__MINUS":return void et.dispatch(function(t,e){return{type:L,payload:{key:t,value:e}}}(r,i));default:return}})),this.addEventListener("dragstart",(function(t){var e=t.target.getAttribute("data-btn-key");t.dataTransfer.setData("key",e),t.dataTransfer.setData("value","RECIPE"),document.querySelector("crafting-table .recipe-field").classList.add("backlight")})),this.addEventListener("dragend",(function(){document.querySelector("crafting-table .recipe-field").classList.remove("backlight")}))}}])&&Lt(r.prototype,o),i&&Lt(r,i),a}(Rt(HTMLElement));n(313);function Ct(t){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return kt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xt(t,e){return!e||"object"!==Ct(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ft(t){var e="function"==typeof Map?new Map:void 0;return(Ft=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Gt(t,arguments,qt(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Ut(r,t)})(t)}function Gt(t,e,n){return(Gt=Ht()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Ut(o,n.prototype),o}).apply(null,arguments)}function Ht(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Ut(t,e){return(Ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qt(t){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ut(t,e)}(a,t);var e,n,r,o,i,c=(e=a,n=Ht(),function(){var t,r=qt(e);if(n){var o=qt(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return xt(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),c.call(this)}return r=a,(o=[{key:"connectedCallback",value:function(){var t=this,e=this,n=et.getState().ingredientsList,r=et.getState().formNewRecipe,o=function(e,n){var r=Object.keys(e);t.innerHTML='\n          <h3 data-btn-key="COLLAPSE_ACTION">\n            Adding a new recipe\n          </h3>\n\n          <div class="collapse show">\n            <form id="form_new_recipe">\n              <div class="input-group mb-1">\n                <select class="custom-select select-ingredient" name="select_ingredient">\n                  '.concat(r.map((function(t){return'\n                        <option value="'.concat(t,'"> ').concat(t,"</option>\n                      ")})),'\n                </select>\n\n                <div class="input-group-append">\n                  <button\n                    class="btn btn-outline-secondary"\n                    type="button"\n                    data-btn-key="FORM_NEW_RECIPE__ADD_INGREDIENT"\n                  >\n                    Add\n                  </button>\n                </div>\n              </div>\n\n              <div class="input-group mb-1">\n                <input\n                  name="recipe_name"\n                  type="Name"\n                  class="form-control recipe-name"\n                  placeholder="Add new recipe name"\n                  aria-label="Form to new recipe"\n                />\n                <div class="input-group-append">\n                  <button\n                    class="btn btn-outline-secondary"\n                    type="button"\n                    data-btn-key="RECIPE_LIST__ADD"\n                  >\n                    Add recipe\n                  </button>\n                  <button\n                    class="btn btn-outline-secondary material-icons"\n                    data-btn-key="FORM_NEW_RECIPE__CLEAR_FORM"\n                  >\n                    delete_sweep\n                  </button>\n                </div>\n              </div>\n            </form>\n\n            <ul class="list-group" id="pre_list_ingredients">\n              ').concat(Object.entries(n).map((function(t){var e=Dt(t,2),n=e[0],r=e[1];return'\n                    <li class="list-group-item">\n                      '.concat(n," : ").concat(r,'\n\n                      <span class="btn-group">\n                        <button\n                          class="btn btn-lg material-icons"\n                          data-btn-value="').concat(n,'"\n                          data-btn-key="FORM_NEW_RECIPE__INGREDIENT_PLUS"\n                        >\n                          add_box\n                        </button>\n                        <button\n                          class="btn btn-lg material-icons"\n                          data-btn-value="').concat(n,'"\n                          data-btn-key="FORM_NEW_RECIPE__INGREDIENT_MINUS"\n                        >\n                          indeterminate_check_box\n                        </button>\n                        <button\n                          class="btn btn-lg material-icons"\n                          data-btn-value="').concat(n,'"\n                          data-btn-key="FORM_NEW_RECIPE__INGREDIENT_REMOVE"\n                        >\n                          delete_sweep\n                        </button>\n                      </span>\n                    </li>\n                  ')})).join(""),"\n            </ul>\n          </div>\n        ")};o(n,r),et.subscribe((function(){var t=et.getState().ingredientsList,e=et.getState().formNewRecipe;o(t,e)})),this.addEventListener("click",(function(t){t.preventDefault();var n,r,o,i=t.target,c=i.getAttribute("data-btn-key"),a=i.getAttribute("data-btn-value");switch(c){case"COLLAPSE_ACTION":var u=e.querySelector(".collapse");return void(u.classList.contains("show")?u.classList.remove("show"):u.classList.add("show"));case"FORM_NEW_RECIPE__ADD_INGREDIENT":var l=e.querySelector(".select-ingredient");return n=l.value,void et.dispatch(function(t){return{type:P,payload:{key:t}}}(n));case"RECIPE_LIST__ADD":return r=e.querySelector(".recipe-name"),(n=r.value)?(o=et.getState().formNewRecipe,0===Object.keys(o).length?alert("нужно добавить ингридиенты"):et.getState().recipeList[n]?void(confirm("".concat(n," - уже существует, перезаписать ?"))&&et.dispatch(Et(n,o))):void et.dispatch(Et(n,o))):alert("нужно добавить имя");case"FORM_NEW_RECIPE__CLEAR_FORM":return e.querySelector(".recipe-name").value="",void et.dispatch({type:C});case"FORM_NEW_RECIPE__INGREDIENT_PLUS":return void et.dispatch(function(t){return{type:T,payload:{key:t}}}(a));case"FORM_NEW_RECIPE__INGREDIENT_MINUS":return void et.dispatch(function(t){return{type:A,payload:{key:t}}}(a));case"FORM_NEW_RECIPE__INGREDIENT_REMOVE":return void et.dispatch(function(t){return{type:N,payload:{key:t}}}(a));default:return}}),!1)}}])&&Mt(r.prototype,o),i&&Mt(r,i),a}(Ft(HTMLElement));n(314);function Bt(t){return{type:V,payload:{recipeName:t}}}function Vt(t){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Kt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jt(t,e){return!e||"object"!==Vt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zt(t){var e="function"==typeof Map?new Map:void 0;return(zt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Qt(t,arguments,te(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Zt(r,t)})(t)}function Qt(t,e,n){return(Qt=Xt()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Zt(o,n.prototype),o}).apply(null,arguments)}function Xt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Zt(t,e){return(Zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function te(t){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ee=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zt(t,e)}(a,t);var e,n,r,o,i,c=(e=a,n=Xt(),function(){var t,r=te(e);if(n){var o=te(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Jt(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),c.call(this)}return r=a,(o=[{key:"connectedCallback",value:function(){var t=this,e=et.getState(),n=e.craftingTable,r=e.ingredientsList,o=function(e,n){var r=e.recipeList;t.innerHTML='\n          <h3 data-btn-key="COLLAPSE_ACTION">\n            Crafting Table\n          </h3>\n\n          <div class="collapse show">\n            <div class="input-group">\n              <span class="card recipe-field" data-place-key="RECIPE_INPUT">\n                '.concat(e.recipeName,'\n              </span>\n\n              <span class="input-group-append">\n                <button\n                  class="btn btn-outline-secondary"\n                  type="button"\n                  data-btn-key="READY_LIST__ADD"\n                >\n                  Craft\n                </button>\n\n                <button\n                  class="btn btn-outline-secondary material-icons"\n                  data-btn-key="CRAFTING_TABLE__CLEAR_FORM"\n                >\n                  delete_sweep\n                </button>\n              </span>\n            </div>\n\n            <ul class="list-group">\n              ').concat(Object.entries(r).map((function(t){var e=Yt(t,2),r=e[0],o=e[1],i=o.exists,c=o.required;return'\n                    <li\n                      class="list-group-item ingredient-field"\n                      data-place-key="'.concat(r,'"\n                    >\n                      ').concat(r," :\n                      ").concat(i<=n[r]?i:n[r],"\n                      из ").concat(c," (").concat(n[r],')\n\n                      <span class="btn-group">\n                        <button\n                          class="btn btn-lg material-icons"\n                          data-btn-value="').concat(r,'"\n                          data-btn-key="FORM_NEW_RECIPE__INGREDIENT_PLUS"\n                        >\n                          add_box\n                        </button>\n                      </span>\n                    </li>\n                  ')})).join(""),"\n            </ul>\n          </div>\n        ")};function i(t,e){var n,r,o,i,c,a,u;switch(t){case"COLLAPSE_ACTION":var l=document.querySelector("crafting-table .collapse");return void(l.classList.contains("show")?l.classList.remove("show"):l.classList.add("show"));case"CRAFTING_TABLE__ADD_RECIPE":return et.dispatch(function(t){return{type:x,payload:{key:t}}}(e)),o=(r=et.getState()).recipeList[e],c={},Object.entries(o).forEach((function(t){var e=Yt(t,2),n=e[0],r=e[1];c[n]={exists:0,required:r}})),void et.dispatch(function(t){return{type:F,payload:{recipeList:t}}}(c));case"CRAFTING_TABLE__CLEAR_FORM":return void et.dispatch({type:H});case"FORM_NEW_RECIPE__INGREDIENT_PLUS":return n=et.getState().ingredientsList,void et.dispatch(function(t,e){return{type:G,payload:{key:t,ingredientsList:e}}}(e,n));case"READY_LIST__ADD":if(i=(r=et.getState()).craftingTable.recipeName,o=r.craftingTable.recipeList,a=r.recipeList[i],u=r.ingredientsList,""===i)return alert("Нужно добавить рецепт, перетяните его на стол");if(Object.entries(o).some((function(t){var e=Yt(t,2),n=e[0],r=e[1],o=r.exists,i=r.required;return u[n]<o?(alert("".concat(n," - недостаточно на складе. Добавьте склад.")),!0):o<i?(alert("".concat(n," - недостаточно на столе. Добавьте еще.")),!0):void 0})))return;return et.dispatch(function(t,e){return{type:B,payload:{recipeName:t,recipeList:e}}}(i,a)),void et.dispatch(b(a,d));default:return}}o(n,r),et.subscribe((function(){var t=et.getState();o(t.craftingTable,t.ingredientsList)})),this.addEventListener("click",(function(t){var e=t.target,n=e.getAttribute("data-btn-key"),r=e.getAttribute("data-btn-value");i(n,r)})),this.addEventListener("drop",(function(t){var e=t.dataTransfer.getData("key"),n=t.dataTransfer.getData("value");"RECIPE"===n&&i("CRAFTING_TABLE__ADD_RECIPE",e),"INGREDIENT"===n&&i("FORM_NEW_RECIPE__INGREDIENT_PLUS",e)})),this.addEventListener("dragover",(function(t){t.preventDefault()}))}}])&&$t(r.prototype,o),i&&$t(r,i),a}(zt(HTMLElement));n(315);function ne(t){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function re(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return oe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ce(t,e){return!e||"object"!==ne(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ae(t){var e="function"==typeof Map?new Map:void 0;return(ae=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return ue(t,arguments,fe(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),se(r,t)})(t)}function ue(t,e,n){return(ue=le()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&se(o,n.prototype),o}).apply(null,arguments)}function le(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function se(t,e){return(se=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fe(t){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var pe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&se(t,e)}(a,t);var e,n,r,o,i,c=(e=a,n=le(),function(){var t,r=fe(e);if(n){var o=fe(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return ce(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),c.call(this)}return r=a,(o=[{key:"connectedCallback",value:function(){var t=this,e=this,n=et.getState(),r=function(e){t.innerHTML="\n          ".concat(0!==Object.keys(e).length?'\n                <h3\n                  data-btn-value="COLLAPSE_ACTION"\n                  data-btn-key="COLLAPSE_BLOCK"\n                >\n                  Ready List\n                </h3>\n              ':"",'\n          <div class="collapse show" data-collapse="COLLAPSE_BLOCK">\n            ').concat(Object.entries(e).map((function(t){var e=re(t,2),n=e[0],r=e[1],o=r.count,i=r.recipeList;return'\n                  <div class="card">\n                    <div\n                      class="card-header"\n                      data-btn-value="COLLAPSE_ACTION"\n                      data-btn-key="'.concat(n,'"\n                    >\n                      <span class="content-text">').concat(n," : ").concat(o,'</span>\n                      <span class="btn-group">\n                        <button\n                          class="btn btn-lg material-icons"\n                          data-btn-value="READY_LIST__REMOVE"\n                          data-btn-key="').concat(n,'"\n                        >\n                          delete_sweep\n                        </button>\n\n                        <button\n                          class="btn btn-lg material-icons"\n                          data-btn-value="READY_LIST__DISASSEMBLE"\n                          data-btn-key="').concat(n,'"\n                        >\n                          gavel\n                        </button>\n                      </span>\n                    </div>\n\n                    <div>\n                      <div\n                        class="collapse card-body"\n                        aria-labelledby="headingOne"\n                        data-collapse="').concat(n,'"\n                      >\n                        <ul>\n                          ').concat(Object.entries(i).map((function(t){var e=re(t,2),n=e[0],r=e[1];return"\n                                <li>".concat(n," : ").concat(r,"</li>\n                              ")})).join(""),"\n                        </ul>\n                      </div>\n                    </div>\n                  </div>\n                ")})).join(""),"\n          </div>\n        ")};r(n.readyList),et.subscribe((function(){var t=et.getState();r(t.readyList)})),this.addEventListener("click",(function(t){var n,r,o=t.target,i=o.getAttribute("data-btn-key");switch(o.getAttribute("data-btn-value")){case"COLLAPSE_ACTION":var c=e.querySelector('[data-collapse="'.concat(i,'"]'));return void(c.classList.contains("show")?c.classList.remove("show"):c.classList.add("show"));case"READY_LIST__REMOVE":return void et.dispatch(Bt(i));case"READY_LIST__DISASSEMBLE":return n=et.getState(),r=n.readyList[i].recipeList,et.dispatch(b(r,v)),void et.dispatch(Bt(i));default:return}}))}}])&&ie(r.prototype,o),i&&ie(r,i),a}(ae(HTMLElement));function ye(t){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function de(t,e){return!e||"object"!==ye(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ve(t){var e="function"==typeof Map?new Map:void 0;return(ve=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return he(t,arguments,Oe(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ge(r,t)})(t)}function he(t,e,n){return(he=_e()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&ge(o,n.prototype),o}).apply(null,arguments)}function _e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function ge(t,e){return(ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Oe(t){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ee=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ge(t,e)}(a,t);var e,n,r,o,i,c=(e=a,n=_e(),function(){var t,r=Oe(e);if(n){var o=Oe(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return de(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),c.call(this)}return r=a,(o=[{key:"connectedCallback",value:function(){et.subscribe((function(){y(f)})),customElements.define("ingredients-list",st),customElements.define("form-new-ingredient",Ot),customElements.define("recipe-list",Nt),customElements.define("form-new-recipe",Wt),customElements.define("crafting-table",ee),customElements.define("ready-list",pe),this.innerHTML='\n        <div class="overflow-auto direction-rtl">\n          <recipe-list class="direction-ltr"></recipe-list>\n          <ingredients-list class="direction-ltr"></ingredients-list>\n          <ready-list class="direction-ltr"></ready-list>\n        </div>\n        <div class="overflow-auto">\n          <form-new-ingredient></form-new-ingredient>\n          <form-new-recipe></form-new-recipe>\n          <crafting-table></crafting-table>\n        </div>\n      '}}])&&be(r.prototype,o),i&&be(r,i),a}(ve(HTMLElement));customElements.define("app-crafting",Ee)}});