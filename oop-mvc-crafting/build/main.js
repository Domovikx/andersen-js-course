!function(t){function e(e){for(var r,a,c=e[0],u=e[1],l=e[2],f=0,p=[];f<c.length;f++)a=c[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);for(s&&s(e);p.length;)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,c=1;c<n.length;c++){var u=n[c];0!==o[u]&&(r=!1)}r&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},o={0:0},i=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var s=u;i.push([122,1]),n()}({122:function(t,e,n){n(123),t.exports=n(317)},309:function(t,e,n){},310:function(t,e,n){},311:function(t,e,n){},312:function(t,e,n){},313:function(t,e,n){},314:function(t,e,n){},315:function(t,e,n){},316:function(t,e,n){},317:function(t,e,n){"use strict";n.r(e);n(309),n(310);function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var i="INGREDIENT_LIST__ADD",a="INGREDIENT_LIST__REMOVE",c="INGREDIENT_LIST__PLUS",u="INGREDIENT_LIST__MINUS",l="INGREDIENT_LIST__UPDATE",s={ingredientsList:{wood:5,bandage:8,fire:3,"Волшебно невероятная хрень написанная на русском языке":17,metal:7,"стекло":8,"вода":15,C2H5OH:7},recipeList:{"BuraTina 2.0":{wood:3,metal:2,"стекло":1,fire:3},"BuraTina Т-600":{wood:1,metal:3,"стекло":1,fire:3,"Волшебно невероятная хрень написанная на русском языке":1},"BuraTina Т-1000":{wood:2,metal:1,"стекло":4,"Волшебно невероятная хрень написанная на русском языке":2},"CherepAHA TartiLA Т-Х":{"стекло":5,"вода":4,C2H5OH:6},"FucKel (О Бык Новенный)":{C2H5OH:5,wood:3,bandage:3,fire:10}},formNewRecipe:{C2H5OH:5,wood:3,bandage:3,fire:10},craftingTable:{recipeName:"FucKel (О Бык Новенный)",recipeList:{C2H5OH:{exists:5,required:5},wood:{exists:3,required:3},bandage:{exists:3,required:3},fire:{exists:10,required:10}},countCrafting:0},readyList:{"BuraTina 2.0":{count:2,recipeList:{wood:3,metal:2,"стекло":1,fire:3}},"BuraTina Т-600":{count:5,recipeList:{wood:1,metal:3,"стекло":1,fire:3,"Волшебно невероятная хрень написанная на русском языке":1}},"CherepAHA TartiLA Т-Х":{count:1,recipeList:{"стекло":5,"вода":4,C2H5OH:6}},"FucKel (О Бык Новенный)":{count:1,recipeList:{C2H5OH:5,wood:3,bandage:3,fire:10}}}},f="SAVE_STATE_TO_LOCAL_STORAGE",p="GET_STATE";function b(t){switch(t){case f:return localStorage.setItem("craftingStore",JSON.stringify($.getState())),!0;case p:var e=localStorage.getItem("craftingStore");return e?JSON.parse(e):s;default:return s}}function y(t,e){return{type:l,payload:{ingredientsList:t,action:e}}}var d="REMOVE_ITEMS",v="ADD_ITEMS";function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E="RECIPE_LIST__ADD",w="RECIPE_LIST__REMOVE",S="RECIPE_LIST__PLUS",j="RECIPE_LIST__MINUS";function L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(Object(n),!0).forEach((function(e){R(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function R(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var P="FORM_NEW_RECIPE__INGREDIENT_ADD",T="FORM_NEW_RECIPE__INGREDIENT_PLUS",A="FORM_NEW_RECIPE__INGREDIENT_MINUS",N="FORM_NEW_RECIPE__INGREDIENT_REMOVE",C="FORM_NEW_RECIPE__CLEAR_FORM";function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){M(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x="CRAFTING_TABLE__ADD_RECIPE",F="CRAFTING_TABLE__INIT_RECIPE_LIST",G="CRAFTING_TABLE__ADD_INGREDIENT",U="CRAFTING_TABLE__CLEAR_FORM";function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(Object(n),!0).forEach((function(e){q(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var W="READY_LIST__ADD",z="READY_LIST__REMOVE";function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach((function(e){Y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $=function(t,e){var n=t(e,{type:"__INIT__"}),r=[];return{dispatch:function(e){n=t(n,e),r.forEach((function(t){return t()}))},subscribe:function(t){r.push(t)},getState:function(){return n}}}(function(t){return function(e,n){var o={};return Object.entries(t).forEach((function(t){var i=r(t,2),a=i[0],c=i[1];o[a]=c(e[a],n)})),o}}({ingredientsList:function(){var t,e,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b(p).ingredientsList,s=arguments.length>1?arguments[1]:void 0,f=s.type,y=s.payload;switch(f){case c:return t=y.key,e=o[t]+1,g(g({},o),{},m({},t,e));case u:return t=y.key,e=o[t]>0?o[t]-1:0,g(g({},o),{},m({},t,e));case a:return t=y.key,delete o[t],o;case i:return t=y.key,g(g({},o),{},m({},t,1));case l:n=y.action,r=y.ingredientsList;var O={};return Object.entries(r).reduce((function(t,e){var r=h(e,2),i=r[0],a=r[1];return n===v?t[i]=o[i]+a:n===d&&(t[i]=o[i]-a),t}),O),g(g({},o),O);default:return o}},recipeList:function(){var t,e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b(p).recipeList,o=arguments.length>1?arguments[1]:void 0,i=o.type,a=o.payload;switch(i){case w:return delete r[t=a.key],I({},r);case E:return t=a.key,e=a.value,I(I({},r),{},R({},t,e));case S:return t=a.key,e=a.value,(n=r[t])[e]+=1,I(I({},r),{},R({},t,n));case j:return t=a.key,e=a.value,(n=r[t])[e]=n[e]>1?n[e]-1:1,I(I({},r),{},R({},t,n));default:return r}},formNewRecipe:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b(p).formNewRecipe,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case P:var o=r.key;return k(k({},t),{},M({},o,1));case T:var i=t[o=r.key]+1;return k(k({},t),{},M({},o,i));case A:return i=t[o=r.key]>0?t[o]-1:0,k(k({},t),{},M({},o,i));case N:return delete t[o=r.key],t;case C:return{};default:return t}},craftingTable:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b(p).craftingTable,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case x:var o=r.key;return B(B({},t),{},q({},"recipeName",o));case F:var i=r.recipeList;return B(B({},t),{},{recipeList:i});case G:o=r.key;var a=r.ingredientsList,c=a[o],u=t.recipeList[o].exists;return u>=c?t.recipeList[o].exists=c:u<t.recipeList[o].required&&(t.recipeList[o].exists+=1),B({},t);case U:return{recipeName:"",recipeList:{},countCrafting:0};default:return t}},readyList:function(){var t,e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b(p).readyList,o=arguments.length>1?arguments[1]:void 0,i=o.type,a=o.payload;switch(i){case W:return e=a.recipeName,n=a.recipeList,t=r[e]?r[e].count+1:1,K(K({},r),{},Y({},e,{count:t,recipeList:n}));case z:if((t=r[e=a.recipeName]?r[e].count-1:1)<=0)return delete r[e],K({},r);var c=r[e];return c.count=t,K(K({},r),{},Y({},e,c));default:return r}}}),b(p)),J=n(1);n(311);function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X(){var t=et(['\n                <h3\n                  data-btn-value="COLLAPSE_ACTION"\n                  data-btn-key="COLLAPSE_BLOCK"\n                >\n                  Ingredients list\n                </h3>\n              ']);return X=function(){return t},t}function Z(){var t=et(["\n          ",'\n          <div class="collapse show" data-collapse="COLLAPSE_BLOCK">\n            <ul class="list-group overflow-auto">\n              ',"\n            </ul>\n          </div>\n        "]);return Z=function(){return t},t}function tt(){var t=et(["\n            <li data-key=",' draggable="true" class="list-group-item">\n              <span class="content-text">'," : ",'</span>\n              <span class="btn-group">\n                <button\n                  class="btn btn-lg material-icons"\n                  data-btn-value="INGREDIENT_LIST__PLUS"\n                  data-btn-key=','\n                >\n                  add_box\n                </button>\n                <button\n                  class="btn btn-lg material-icons"\n                  data-btn-value="INGREDIENT_LIST__MINUS"\n                  data-btn-key=','\n                >\n                  indeterminate_check_box\n                </button>\n                <button\n                  class="btn btn-lg material-icons"\n                  data-btn-value="INGREDIENT_LIST__REMOVE"\n                  data-btn-key=',"\n                >\n                  delete_sweep\n                </button>\n              </span>\n            </li>\n          "]);return tt=function(){return t},t}function et(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rt(t,e){return!e||"object"!==Q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ot(t){var e="function"==typeof Map?new Map:void 0;return(ot=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return it(t,arguments,ut(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ct(r,t)})(t)}function it(t,e,n){return(it=at()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&ct(o,n.prototype),o}).apply(null,arguments)}function at(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function ct(t,e){return(ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ut(t){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var lt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ct(t,e)}(s,t);var e,n,r,o,i,l=(e=s,n=at(),function(){var t,r=ut(e);if(n){var o=ut(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return rt(this,t)});function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),l.call(this)}return r=s,(o=[{key:"connectedCallback",value:function(){var t=this,e=$.getState().ingredientsList,n=function(e){var n=[];for(var r in e)n.push(Object(J.a)(tt(),r,r,e[r],r,r,r));Object(J.b)(Object(J.a)(Z(),0!==Object.keys(e).length?Object(J.a)(X()):"",n),t)};n(e),$.subscribe((function(){var t=$.getState();n(t.ingredientsList)})),this.addEventListener("click",(function(t){var e=t.target,n=e.getAttribute("data-btn-key");switch(e.getAttribute("data-btn-value")){case"COLLAPSE_ACTION":var r=document.querySelector('ingredients-list [data-collapse="'.concat(n,'"]'));return void(r.classList.contains("show")?r.classList.remove("show"):r.classList.add("show"));case"INGREDIENT_LIST__PLUS":return void $.dispatch(function(t){return{type:c,payload:{key:t}}}(n));case"INGREDIENT_LIST__MINUS":return void $.dispatch(function(t){return{type:u,payload:{key:t}}}(n));case"INGREDIENT_LIST__REMOVE":return void(confirm('Вы уверены, удалить "'.concat(n,'" ?'))&&$.dispatch(function(t){return{type:a,payload:{key:t}}}(n)));default:return}})),this.addEventListener("dragstart",(function(t){var e=t.target.getAttribute("data-key"),n=t.dataTransfer;n.setData("key",e),n.setData("value","INGREDIENT");var r=document.querySelector("crafting-table [data-place-key=".concat(e,"]"))||null;r&&r.classList.add("backlight")})),this.addEventListener("dragend",(function(){document.querySelector("crafting-table .backlight").classList.remove("backlight")}))}}])&&nt(r.prototype,o),i&&nt(r,i),s}(ot(HTMLElement));n(312);function st(t){return{type:i,payload:{key:t}}}function ft(t){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pt(){var t=function(t,e){e||(e=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n          <h3 data-action="COLLAPSE_ACTION">\n            Adding a new ingredient\n          </h3>\n\n          <div class="collapse show">\n            <form>\n              <div class="input-group mb-3">\n                <input\n                  name="ingredient_name"\n                  type="text"\n                  class="form-control ingredient-name"\n                  placeholder="Add new ingredient"\n                />\n                <div class="input-group-append">\n                  <button\n                    class="btn btn-outline-secondary"\n                    type="button"\n                    id="btn-add-new-ingredient"\n                    data-action="INGREDIENT_LIST__ADD"\n                  >\n                    Add\n                  </button>\n                </div>\n              </div>\n            </form>\n          </div>\n        ']);return pt=function(){return t},t}function bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yt(t,e){return!e||"object"!==ft(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dt(t){var e="function"==typeof Map?new Map:void 0;return(dt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return vt(t,arguments,_t(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Ot(r,t)})(t)}function vt(t,e,n){return(vt=ht()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Ot(o,n.prototype),o}).apply(null,arguments)}function ht(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Ot(t,e){return(Ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _t(t){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ot(t,e)}(c,t);var e,n,r,o,i,a=(e=c,n=ht(),function(){var t,r=_t(e);if(n){var o=_t(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return yt(this,t)});function c(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),a.call(this)}return r=c,(o=[{key:"connectedCallback",value:function(){var t=this,e=function(){Object(J.b)(Object(J.a)(pt()),t)};e(),$.subscribe((function(){e()})),this.addEventListener("click",(function(t){t.preventDefault();var e=t.target.getAttribute("data-action"),n=document.querySelector("form-new-ingredient .ingredient-name").value;switch(e){case"INGREDIENT_LIST__ADD":return n?void($.getState().ingredientsList.hasOwnProperty([n])?confirm('Ингридиент "'.concat(n,'" уже существует, перезаписать ?'))&&$.dispatch(st(n)):$.dispatch(st(n))):alert("Нужно добавить название ингредиента");case"COLLAPSE_ACTION":var r=document.querySelector("form-new-ingredient .collapse");return void(r.classList.contains("show")?r.classList.remove("show"):r.classList.add("show"));default:return}}))}}])&&bt(r.prototype,o),i&&bt(r,i),c}(dt(HTMLElement));n(313);function mt(t,e){return{type:E,payload:{key:t,value:e}}}function Et(t){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(){var t=Pt(['\n                        <li>\n                          <span class="content-text">\n                            '," : ",'\n                          </span>\n                          <span class="btn-group">\n                            <button\n                              class="btn btn-lg material-icons"\n                              data-btn-value="RECIPE_LIST__PLUS"\n                              data-btn-key=',"\n                              data-btn-item=",'\n                            >\n                              add_box\n                            </button>\n\n                            <button\n                              class="btn btn-lg material-icons"\n                              data-btn-value="RECIPE_LIST__MINUS"\n                              data-btn-key=',"\n                              data-btn-item=","\n                            >\n                              indeterminate_check_box\n                            </button>\n                          </span>\n                        </li>\n                      "]);return wt=function(){return t},t}function St(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return jt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lt(){var t=Pt(['\n            <div class="card">\n              <div\n                class="card-header"\n                draggable="true"\n                data-btn-value="COLLAPSE_ACTION"\n                data-btn-key=','\n              >\n                <span class="content-text">','</span>\n                <span class="btn-group">\n                  <button\n                    class="btn btn-lg material-icons"\n                    data-btn-value="RECIPE_LIST__REMOVE"\n                    data-btn-key=','\n                  >\n                    delete_sweep\n                  </button>\n                </span>\n              </div>\n\n              <div\n                class="collapse card-body"\n                aria-labelledby="headingOne"\n                data-collapse=',"\n              >\n                <ul>\n                  ","\n                </ul>\n              </div>\n            </div>\n          "]);return Lt=function(){return t},t}function It(){var t=Pt(['\n                <h3\n                  data-btn-value="COLLAPSE_ACTION"\n                  data-btn-key="COLLAPSE_BLOCK"\n                >\n                  Recipe List\n                </h3>\n              ']);return It=function(){return t},t}function Rt(){var t=Pt(["\n          ",'\n\n          <div class="collapse show" data-collapse="COLLAPSE_BLOCK">\n            ',"\n          </div>\n        "]);return Rt=function(){return t},t}function Pt(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function At(t,e){return!e||"object"!==Et(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nt(t){var e="function"==typeof Map?new Map:void 0;return(Nt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Ct(t,arguments,Mt(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),kt(r,t)})(t)}function Ct(t,e,n){return(Ct=Dt()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&kt(o,n.prototype),o}).apply(null,arguments)}function Dt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function kt(t,e){return(kt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Mt(t){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kt(t,e)}(c,t);var e,n,r,o,i,a=(e=c,n=Dt(),function(){var t,r=Mt(e);if(n){var o=Mt(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return At(this,t)});function c(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),a.call(this)}return r=c,(o=[{key:"connectedCallback",value:function(){var t=this,e=$.getState().recipeList,n=function(e){var n=[],r=function(t){n.push(Object(J.a)(Lt(),t,t,t,t,Object.entries(e[t]).map((function(e){var n=St(e,2),r=n[0],o=n[1];return Object(J.a)(wt(),r,o,t,r,t,r)}))))};for(var o in e)r(o);Object(J.b)(Object(J.a)(Rt(),0!==Object.keys(e).length?Object(J.a)(It()):"",n),t)};n(e),$.subscribe((function(){var t=$.getState();n(t.recipeList)})),this.addEventListener("click",(function(t){var e=t.target,n=e.getAttribute("data-btn-key"),r=e.getAttribute("data-btn-value"),o=e.getAttribute("data-btn-item");switch(r){case"COLLAPSE_ACTION":var i=document.querySelector('recipe-list [data-collapse="'.concat(n,'"]'));return void(i.classList.contains("show")?i.classList.remove("show"):i.classList.add("show"));case"RECIPE_LIST__REMOVE":return void(confirm('Вы уверены, удалить "'.concat(n,'" ?'))&&$.dispatch(function(t){return{type:w,payload:{key:t}}}(n)));case"RECIPE_LIST__PLUS":return void $.dispatch(function(t,e){return{type:S,payload:{key:t,value:e}}}(n,o));case"RECIPE_LIST__MINUS":return void $.dispatch(function(t,e){return{type:j,payload:{key:t,value:e}}}(n,o));default:return}})),this.addEventListener("dragstart",(function(t){var e=t.target.getAttribute("data-btn-key");t.dataTransfer.setData("key",e),t.dataTransfer.setData("value","RECIPE"),document.querySelector("crafting-table .recipe-field").classList.add("backlight")})),this.addEventListener("dragend",(function(){document.querySelector("crafting-table .recipe-field").classList.remove("backlight")}))}}])&&Tt(r.prototype,o),i&&Tt(r,i),c}(Nt(HTMLElement));n(314);function Ft(t){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gt(){var t=Wt(['\n                    <li class="list-group-item">\n                      '," : ",'\n\n                      <span class="btn-group">\n                        <button\n                          class="btn btn-lg material-icons"\n                          data-btn-value=','\n                          data-btn-key="FORM_NEW_RECIPE__INGREDIENT_PLUS"\n                        >\n                          add_box\n                        </button>\n                        <button\n                          class="btn btn-lg material-icons"\n                          data-btn-value=','\n                          data-btn-key="FORM_NEW_RECIPE__INGREDIENT_MINUS"\n                        >\n                          indeterminate_check_box\n                        </button>\n                        <button\n                          class="btn btn-lg material-icons"\n                          data-btn-value=','\n                          data-btn-key="FORM_NEW_RECIPE__INGREDIENT_REMOVE"\n                        >\n                          delete_sweep\n                        </button>\n                      </span>\n                    </li>\n                  ']);return Gt=function(){return t},t}function Ut(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ht(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ht(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bt(){var t=Wt(["\n                        <option value=","> ","</option>\n                      "]);return Bt=function(){return t},t}function qt(){var t=Wt(['\n          <h3 data-btn-key="COLLAPSE_ACTION">\n            Adding a new recipe\n          </h3>\n\n          <div class="collapse show">\n            <form id="form_new_recipe">\n              <div class="input-group mb-1">\n                <select class="custom-select" name="select_ingredient">\n                  ','\n                </select>\n\n                <div class="input-group-append">\n                  <button\n                    class="btn btn-outline-secondary"\n                    type="button"\n                    data-btn-key="FORM_NEW_RECIPE__ADD_INGREDIENT"\n                  >\n                    Add\n                  </button>\n                </div>\n              </div>\n\n              <div class="input-group mb-1">\n                <input\n                  name="recipe_name"\n                  type="Name"\n                  class="form-control recipe-name"\n                  placeholder="Add new recipe name"\n                  aria-label="Form to new recipe"\n                />\n                <div class="input-group-append">\n                  <button\n                    class="btn btn-outline-secondary"\n                    type="button"\n                    data-btn-key="RECIPE_LIST__ADD"\n                  >\n                    Add recipe\n                  </button>\n                  <button\n                    class="btn btn-outline-secondary material-icons"\n                    data-btn-key="FORM_NEW_RECIPE__CLEAR_FORM"\n                  >\n                    delete_sweep\n                  </button>\n                </div>\n              </div>\n            </form>\n\n            \x3c!-- TODO: тут можно делать декомпозицию --\x3e\n            <ul class="list-group" id="pre_list_ingredients">\n              ',"\n            </ul>\n          </div>\n        "]);return qt=function(){return t},t}function Wt(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vt(t,e){return!e||"object"!==Ft(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kt(t){var e="function"==typeof Map?new Map:void 0;return(Kt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Yt(t,arguments,Qt(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Jt(r,t)})(t)}function Yt(t,e,n){return(Yt=$t()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Jt(o,n.prototype),o}).apply(null,arguments)}function $t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Jt(t,e){return(Jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qt(t){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Xt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jt(t,e)}(c,t);var e,n,r,o,i,a=(e=c,n=$t(),function(){var t,r=Qt(e);if(n){var o=Qt(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Vt(this,t)});function c(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),a.call(this)}return r=c,(o=[{key:"connectedCallback",value:function(){var t=this,e=$.getState().ingredientsList,n=$.getState().formNewRecipe,r=function(e,n){var r=Object.keys(e);Object(J.b)(Object(J.a)(qt(),r.map((function(t){return Object(J.a)(Bt(),t,t)})),Object.entries(n).map((function(t){var e=Ut(t,2),n=e[0],r=e[1];return Object(J.a)(Gt(),n,r,n,n,n)}))),t)};r(e,n),$.subscribe((function(){var t=$.getState().ingredientsList,e=$.getState().formNewRecipe;r(t,e)}));var o=document.getElementById("form_new_recipe");this.addEventListener("click",(function(t){t.preventDefault();var e,n,r=t.target,i=r.getAttribute("data-btn-key"),a=r.getAttribute("data-btn-value");switch(i){case"COLLAPSE_ACTION":var c=document.querySelector("form-new-recipe .collapse");return void(c.classList.contains("show")?c.classList.remove("show"):c.classList.add("show"));case"FORM_NEW_RECIPE__ADD_INGREDIENT":return e=o.elements.select_ingredient.value,void $.dispatch(function(t){return{type:P,payload:{key:t}}}(e));case"RECIPE_LIST__ADD":return(e=o.elements.recipe_name.value)?(n=$.getState().formNewRecipe,0===Object.keys(n).length?alert("нужно добавить ингридиенты"):$.getState().recipeList[e]?void(confirm("".concat(e," - уже существует, перезаписать ?"))&&$.dispatch(mt(e,n))):void $.dispatch(mt(e,n))):alert("нужно добавить имя");case"FORM_NEW_RECIPE__CLEAR_FORM":return document.querySelector("form-new-recipe .recipe-name").value="",void $.dispatch({type:C});case"FORM_NEW_RECIPE__INGREDIENT_PLUS":return void $.dispatch(function(t){return{type:T,payload:{key:t}}}(a));case"FORM_NEW_RECIPE__INGREDIENT_MINUS":return void $.dispatch(function(t){return{type:A,payload:{key:t}}}(a));case"FORM_NEW_RECIPE__INGREDIENT_REMOVE":return void $.dispatch(function(t){return{type:N,payload:{key:t}}}(a));default:return}}),!1)}}])&&zt(r.prototype,o),i&&zt(r,i),c}(Kt(HTMLElement));n(315);function Zt(t){return{type:z,payload:{recipeName:t}}}function te(t){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ee(){var t=ie(['\n                    <li\n                      class="list-group-item ingredient-field"\n                      data-place-key=',"\n                    >\n                      "," :\n                      ","\n                      из "," (",')\n\n                      <span class="btn-group">\n                        <button\n                          class="btn btn-lg material-icons"\n                          data-btn-value=','\n                          data-btn-key="FORM_NEW_RECIPE__INGREDIENT_PLUS"\n                        >\n                          add_box\n                        </button>\n                      </span>\n                    </li>\n                  ']);return ee=function(){return t},t}function ne(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return re(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oe(){var t=ie(['\n          <h3 data-btn-key="COLLAPSE_ACTION">\n            Crafting Table\n          </h3>\n\n          <div class="collapse show">\n            <div class="input-group">\n              <span class="card recipe-field" data-place-key="RECIPE_INPUT">\n                ','\n              </span>\n\n              <span class="input-group-append">\n                <button\n                  class="btn btn-outline-secondary"\n                  type="button"\n                  data-btn-key="READY_LIST__ADD"\n                >\n                  Craft\n                </button>\n\n                <button\n                  class="btn btn-outline-secondary material-icons"\n                  data-btn-key="CRAFTING_TABLE__CLEAR_FORM"\n                >\n                  delete_sweep\n                </button>\n              </span>\n            </div>\n\n            <ul class="list-group">\n              ',"\n            </ul>\n          </div>\n        "]);return oe=function(){return t},t}function ie(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ce(t,e){return!e||"object"!==te(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ue(t){var e="function"==typeof Map?new Map:void 0;return(ue=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return le(t,arguments,pe(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),fe(r,t)})(t)}function le(t,e,n){return(le=se()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&fe(o,n.prototype),o}).apply(null,arguments)}function se(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function fe(t,e){return(fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pe(t){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var be=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fe(t,e)}(c,t);var e,n,r,o,i,a=(e=c,n=se(),function(){var t,r=pe(e);if(n){var o=pe(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return ce(this,t)});function c(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),a.call(this)}return r=c,(o=[{key:"connectedCallback",value:function(){var t=this,e=$.getState(),n=e.craftingTable,r=e.ingredientsList,o=function(e,n){var r=e.recipeList;Object(J.b)(Object(J.a)(oe(),e.recipeName,Object.entries(r).map((function(t){var e=ne(t,2),r=e[0],o=e[1],i=o.exists,a=o.required;return Object(J.a)(ee(),r,r,i<=n[r]?i:n[r],a,n[r],r)}))),t)};function i(t,e){var n,r,o,i,a,c,u;switch(t){case"COLLAPSE_ACTION":var l=document.querySelector("crafting-table .collapse");return void(l.classList.contains("show")?l.classList.remove("show"):l.classList.add("show"));case"CRAFTING_TABLE__ADD_RECIPE":return $.dispatch(function(t){return{type:x,payload:{key:t}}}(e)),o=(r=$.getState()).recipeList[e],a={},Object.entries(o).forEach((function(t){var e=ne(t,2),n=e[0],r=e[1];a[n]={exists:0,required:r}})),void $.dispatch(function(t){return{type:F,payload:{recipeList:t}}}(a));case"CRAFTING_TABLE__CLEAR_FORM":return void $.dispatch({type:U});case"FORM_NEW_RECIPE__INGREDIENT_PLUS":return n=$.getState().ingredientsList,void $.dispatch(function(t,e){return{type:G,payload:{key:t,ingredientsList:e}}}(e,n));case"READY_LIST__ADD":if(i=(r=$.getState()).craftingTable.recipeName,o=r.craftingTable.recipeList,c=r.recipeList[i],u=r.ingredientsList,""===i)return alert("Нужно добавить рецепт, перетяните его на стол");if(Object.entries(o).some((function(t){var e=ne(t,2),n=e[0],r=e[1],o=r.exists,i=r.required;return u[n]<o?(alert("".concat(n," - недостаточно на складе. Добавьте склад.")),!0):o<i?(alert("".concat(n," - недостаточно на столе. Добавьте еще.")),!0):void 0})))return;return $.dispatch(function(t,e){return{type:W,payload:{recipeName:t,recipeList:e}}}(i,c)),void $.dispatch(y(c,d));default:return}}o(n,r),$.subscribe((function(){var t=$.getState();o(t.craftingTable,t.ingredientsList)})),this.addEventListener("click",(function(t){var e=t.target,n=e.getAttribute("data-btn-key"),r=e.getAttribute("data-btn-value");i(n,r)})),this.addEventListener("drop",(function(t){var e=t.dataTransfer.getData("key"),n=t.dataTransfer.getData("value");"RECIPE"===n&&i("CRAFTING_TABLE__ADD_RECIPE",e),"INGREDIENT"===n&&i("FORM_NEW_RECIPE__INGREDIENT_PLUS",e)})),this.addEventListener("dragover",(function(t){t.preventDefault()}))}}])&&ae(r.prototype,o),i&&ae(r,i),c}(ue(HTMLElement));n(316);function ye(t){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function de(){var t=me(["\n                                <li>"," : ","</li>\n                              "]);return de=function(){return t},t}function ve(){var t=me(['\n                  <div class="card">\n                    <div\n                      class="card-header"\n                      data-btn-value="COLLAPSE_ACTION"\n                      data-btn-key=','\n                    >\n                      <span class="content-text">'," : ",'</span>\n                      <span class="btn-group">\n                        <button\n                          class="btn btn-lg material-icons"\n                          data-btn-value="READY_LIST__REMOVE"\n                          data-btn-key=','\n                        >\n                          delete_sweep\n                        </button>\n\n                        <button\n                          class="btn btn-lg material-icons"\n                          data-btn-value="READY_LIST__DISASSEMBLE"\n                          data-btn-key=','\n                        >\n                          gavel\n                        </button>\n                      </span>\n                    </div>\n\n                    <div>\n                      <div\n                        class="collapse card-body"\n                        aria-labelledby="headingOne"\n                        data-collapse=',"\n                      >\n                        <ul>\n                          ","\n                        </ul>\n                      </div>\n                    </div>\n                  </div>\n                "]);return ve=function(){return t},t}function he(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Oe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _e(){var t=me(['\n                <h3\n                  data-btn-value="COLLAPSE_ACTION"\n                  data-btn-key="COLLAPSE_BLOCK"\n                >\n                  Ready List\n                </h3>\n              ']);return _e=function(){return t},t}function ge(){var t=me(["\n          ",'\n          <div class="collapse show" data-collapse="COLLAPSE_BLOCK">\n            ',"\n          </div>\n        "]);return ge=function(){return t},t}function me(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function we(t,e){return!e||"object"!==ye(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Se(t){var e="function"==typeof Map?new Map:void 0;return(Se=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return je(t,arguments,Re(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Ie(r,t)})(t)}function je(t,e,n){return(je=Le()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Ie(o,n.prototype),o}).apply(null,arguments)}function Le(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Ie(t,e){return(Ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Re(t){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Pe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ie(t,e)}(c,t);var e,n,r,o,i,a=(e=c,n=Le(),function(){var t,r=Re(e);if(n){var o=Re(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return we(this,t)});function c(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),a.call(this)}return r=c,(o=[{key:"connectedCallback",value:function(){var t=this,e=$.getState(),n=function(e){Object(J.b)(Object(J.a)(ge(),0!==Object.keys(e).length?Object(J.a)(_e()):"",Object.entries(e).map((function(t){var e=he(t,2),n=e[0],r=e[1],o=r.count,i=r.recipeList;return Object(J.a)(ve(),n,n,o,n,n,n,Object.entries(i).map((function(t){var e=he(t,2),n=e[0],r=e[1];return Object(J.a)(de(),n,r)})))}))),t)};n(e.readyList),$.subscribe((function(){var t=$.getState();n(t.readyList)})),this.addEventListener("click",(function(t){var e,n,r=t.target,o=r.getAttribute("data-btn-key");switch(r.getAttribute("data-btn-value")){case"COLLAPSE_ACTION":var i=document.querySelector('ready-list [data-collapse="'.concat(o,'"]'));return void(i.classList.contains("show")?i.classList.remove("show"):i.classList.add("show"));case"READY_LIST__REMOVE":return void $.dispatch(Zt(o));case"READY_LIST__DISASSEMBLE":return e=$.getState(),n=e.readyList[o].recipeList,$.dispatch(y(n,v)),void $.dispatch(Zt(o));default:return}}))}}])&&Ee(r.prototype,o),i&&Ee(r,i),c}(Se(HTMLElement));function Te(t){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ae(){var t=function(t,e){e||(e=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n        <div class="overflow-auto direction-rtl">\n          <recipe-list class="direction-ltr"></recipe-list>\n          <ingredients-list class="direction-ltr"></ingredients-list>\n          <ready-list class="direction-ltr"></ready-list>\n        </div>\n        <div class="overflow-auto">\n          <form-new-ingredient></form-new-ingredient>\n          <form-new-recipe></form-new-recipe>\n          <crafting-table></crafting-table>\n        </div>\n      ']);return Ae=function(){return t},t}function Ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ce(t,e){return!e||"object"!==Te(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function De(t){var e="function"==typeof Map?new Map:void 0;return(De=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return ke(t,arguments,Fe(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),xe(r,t)})(t)}function ke(t,e,n){return(ke=Me()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&xe(o,n.prototype),o}).apply(null,arguments)}function Me(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function xe(t,e){return(xe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fe(t){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ge=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xe(t,e)}(c,t);var e,n,r,o,i,a=(e=c,n=Me(),function(){var t,r=Fe(e);if(n){var o=Fe(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Ce(this,t)});function c(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),a.call(this)}return r=c,(o=[{key:"connectedCallback",value:function(){$.subscribe((function(){b(f)})),customElements.define("ingredients-list",lt),customElements.define("form-new-ingredient",gt),customElements.define("recipe-list",xt),customElements.define("form-new-recipe",Xt),customElements.define("crafting-table",be),customElements.define("ready-list",Pe),Object(J.b)(Object(J.a)(Ae()),this)}}])&&Ne(r.prototype,o),i&&Ne(r,i),c}(De(HTMLElement));customElements.define("app-crafting",Ge)}});